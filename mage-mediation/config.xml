<?xml version="1.0" encoding="UTF-8" ?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="file:src/main/resources/config.xsd">
    <database name="magemediation">
        <server host="localhost" user="root" password="root"/>
    </database>
    <files>
        <file id="onec_product" path="../.testdata/test-products.xls"/>
        <file id="mage_product" path="../.testdata/catalog_product.csv"/>
        <file id="mage_user_group" path="../.testdata/customer_group.csv"/>
    </files>
    <data-sets>
        <dataset name="onec_group" rows-to-skip="1" max-absent-age="10" target="ONEC_GROUP">
            <source file="onec_product" sheet="group"/>
            <field-sets>
                <main name="group">
                    <field name="group_code" column="0" regex="^G[0-9]{3,3}$" key-field="true"/>
                    <field name="group_name" column="1"/>
                </main>
            </field-sets>
        </dataset>
        <dataset name="onec_product" rows-to-skip="4" max-absent-age="10" target="ONEC_PRODUCT">
            <source file="onec_product" sheet="stock"/>
            <field-sets>
                <main name="product">
                    <field name="sku" column="0" regex="^[0-9]{4,10}$" key-field="true"/>
                    <field name="catalog_sku" column="1"/>
                    <field name="russian_name" column="4"/>
                    <field name="english_name" column="5"/>
                    <field name="manufacturer" column="10"/>
                    <field name="country_of_manufacture" column="8"/>
                    <field name="machine_vendor" column="6"/>
                    <field name="machine" column="7"/>
                    <!--
                        <field name="machine_unit" column="0"/>
                    -->
                    <field name="weight" column="9" type="DOUBLE"/>
                </main>
                <additional name="group" >
                    <field name="group_code" column="0" regex="^G[0-9]{3,3}$"/>
                    <field name="group_name" column="1"/>
                </additional>
            </field-sets>
        </dataset>
        <dataset name="mage_product" headers-row="0" rows-to-skip="0" max-absent-age="10" target="MAGE_PRODUCT">
            <source file="mage_product" sheet=".*"/>
            <field-sets>
                <main name="product" >
                    <field name="sku" key-field="true"/>
                    <field name="additional_attributes" type="ATTRIBUTE_LIST">
                        <attr-list-format attr-delimiter="," attr-quote="" name-value-delimiter="=" value-quote='"'/>
                    </field>
                    <field name="description" type="TEXT"/>
                    <field name="short_description" type="TEXT"/>
                    <field name="weight" type="DOUBLE" optional="true"/>
                    <field name="product_online" type="BOOL"/>
                    <field name="price" type="DOUBLE"/>
                    <field name="special_price" type="DOUBLE" optional="true"/>
                    <field name="special_price_from_date" type="DATE" optional="true">
                        <date-format format="d.M.yy"/>
                    </field>
                    <field name="special_price_to_date" type="DATE" optional="true">
                        <date-format format="d.M.yy"/>
                    </field>
                    <field name="created_at" type="DATETIME">
                        <datetime-format format="d.M.yy, k:m"/>
                    </field>
                    <field name="updated_at" type="DATETIME">
                        <datetime-format format="d.M.yy, k:m"/>
                    </field>
                    <field name="new_from_date" type="DATE" optional="true">
                        <date-format format="d.M.yy"/>
                    </field>
                    <field name="new_to_date" type="DATE" optional="true">
                        <date-format format="d.M.yy"/>
                    </field>
                    <field name="qty" type="DOUBLE"/>
                    <field name="out_of_stock_qty" type="DOUBLE"/>
                    <field name="use_config_min_qty" type="BOOL"/>
                    <field name="is_qty_decimal" type="BOOL"/>
                    <field name="allow_backorders" type="BOOL"/>
                    <field name="use_config_backorders" type="BOOL"/>
                    <field name="min_cart_qty" type="DOUBLE"/>
                    <field name="use_config_min_sale_qty" type="BOOL"/>
                    <field name="max_cart_qty" type="DOUBLE"/>
                    <field name="use_config_max_sale_qty" type="BOOL"/>
                    <field name="is_in_stock" type="BOOL"/>
                    <field name="notify_on_stock_below" type="DOUBLE"/>
                    <field name="use_config_notify_stock_qty" type="BOOL"/>
                    <field name="manage_stock" type="BOOL"/>
                    <field name="use_config_manage_stock" type="BOOL"/>
                    <field name="use_config_qty_increments" type="BOOL"/>
                    <field name="qty_increments" type="DOUBLE"/>
                    <field name="use_config_enable_qty_inc" type="BOOL"/>
                    <field name="enable_qty_increments" type="BOOL"/>
                    <field name="is_decimal_divided" type="BOOL"/>
                    <field name="website_id" type="INT"/>
                    <field name="related_skus" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>
                    <field name="crosssell_skus" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>
                    <field name="upsell_skus" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>
                    <field name="additional_images" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>
                    <field name="additional_image_labels" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>
                    <field name="associated_skus" type="STRING_LIST">
                        <list-format delimiter="," quote=""/>
                    </field>

                    <field name="ratings_summary" type="DOUBLE" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="cost" type="DOUBLE" nested="true" parent="additional_attributes" optional="true" locale="en_US"/>
                    <!-- remove optional in this section -->
                    <field name="english_name" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="catalog_sku" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="machine" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="machine_unit" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="machine_vendor" nested="true" parent="additional_attributes" optional="true"/>
                    <!-- end of section -->
                    <field name="ts_dimensions_length" type="DOUBLE" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="ts_dimensions_height" type="DOUBLE" nested="true" parent="additional_attributes" optional="true"/>
                    <field name="ts_dimensions_width" type="DOUBLE" nested="true" parent="additional_attributes" optional="true"/>
                </main>
            </field-sets>
        </dataset>
    </data-sets>
</config>